EditText amountEditText = findViewById(R.id.editTextAmount);

amountEditText.addTextChangedListener(new TextWatcher() {
    private String lastValid = "";

    @Override
    public void beforeTextChanged(CharSequence s, int start, int count, int after) { }

    @Override
    public void onTextChanged(CharSequence s, int start, int before, int count) { }

    @Override
    public void afterTextChanged(Editable s) {
        String input = s.toString();

        if (!input.isEmpty()) {
            try {
                double value = Double.parseDouble(input);

                // Block if value is greater than 5000.00
                if (value > 5000.00) {
                    amountEditText.removeTextChangedListener(this);
                    amountEditText.setText(lastValid);
                    amountEditText.setSelection(lastValid.length());
                    amountEditText.addTextChangedListener(this);

                    Toast.makeText(getApplicationContext(), "Amount cannot exceed 5000.00", Toast.LENGTH_SHORT).show();
                } else {
                    lastValid = input; // Save valid input
                }
            } catch (NumberFormatException e) {
                // Optional: show error
                amountEditText.setError("Invalid number format");
            }
        }
    }
});
